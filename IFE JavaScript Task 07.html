<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>IFE JavaScript Task 07</title>
	<style>
		* {
			margin: 0;
			padding: 0;
		}

		div {
			margin: 20px 20px 20px 20px;
			border: 1px solid;
		}

		body div {
			float: left;
			background-color: #fff;
		}

		body > div {
			width: 500px;
			z-index: 2;
		}

		body > div > div {
			z-index: 3;
		}
		
		body > div > div > div{
			z-index: 4;
		}

		body > div > div > div > div {
			width: 50px;
			height: 30px;
			z-index: 5;
		}
		.changeColor {
			background-color: #cfc;
			transition: all 0.5s linear;
		}
		.turnBackColor {
			background-color: #fff;
			transition: all 0.5s linear;
		}
	</style>
</head>
<body>
	<div>1
		<div>3
			<div>7
				<div>15</div>
				<div>16</div>
			</div>
			<div>8
				<div>17</div>
				<div>18</div>
			</div>
		</div>
		<div>4
			<div>9
				<div>19</div>
				<div>20</div>
			</div>
			<div>10
				<div>21</div>
				<div>22</div>
			</div>
		</div>
	</div>
	<div>2
		<div>5
			<div>11
				<div>23</div>
				<div>24</div>
			</div>
			<div>12
				<div>25</div>
				<div>26</div>
			</div>
		</div>
		<div>6
			<div>13
				<div>27</div>
				<div>28</div>
			</div>
			<div>14
				<div>29</div>
				<div>30</div>
			</div>
		</div>
	</div>
</body>
<script>

	//先序遍历节点树。
	let treeNode = document.querySelector('body')
	function traverse(tree) {
		if (tree.children[0]) {
			traverse(tree.children[0])
		}
		toggleColor(tree)
	
		if (tree.children[1]) {
		traverse(tree.children[1])
		}
	}
	traverse(treeNode)
	function toggleColor(tree) {
		(function(){setTimeout(tree.classList.toggle('changeColor'), 500)}());
		(function(){setTimeout(console.log(tree.innerText), 1000)}());
		(function(){setTimeout(tree.classList.toggle('turnBackColor'), 500)}())
		
	}
</script>
</html>
